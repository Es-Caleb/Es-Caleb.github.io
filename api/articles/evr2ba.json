{"title":"vue3 使用 百度地图","uid":"f75c33a49b8a527fa8975e81f9d8e4eb","slug":"evr2ba","date":"2021-08-19T03:19:10.000Z","updated":"2023-02-16T01:24:47.529Z","comments":true,"path":"api/articles/evr2ba.json","keywords":null,"cover":null,"content":"<h1 id=\"Vue3-使用-百度地图的报错的问题\"><a href=\"#Vue3-使用-百度地图的报错的问题\" class=\"headerlink\" title=\"Vue3 使用 百度地图的报错的问题\"></a>Vue3 使用 百度地图的报错的问题</h1><p><strong>vue3 项目中使用百度地图总是报错 BMap is not defined.</strong></p>\n<h3 id=\"public-index-html-中加入\"><a href=\"#public-index-html-中加入\" class=\"headerlink\" title=\"public/index.html 中加入\"></a>public/index.html 中加入</h3><pre class=\" language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script\n  type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span>\n  src<span class=\"token operator\">=</span><span class=\"token string\">\"http://api.map.baidu.com/api?v=3.0&amp;ak=你的ak\"</span>\n<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n</code></pre>\n<h3 id=\"eslintrc-js-中加入\"><a href=\"#eslintrc-js-中加入\" class=\"headerlink\" title=\".eslintrc.js 中加入\"></a>.eslintrc.js 中加入</h3><pre class=\" language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n  globals<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n     BMap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3 id=\"vue-config-js-中加入\"><a href=\"#vue-config-js-中加入\" class=\"headerlink\" title=\"vue.config.js 中加入\"></a>vue.config.js 中加入</h3><pre class=\" language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n   configureWebpack<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      externals<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"BMap\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"BMap\"</span>\n      <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3 id=\"重新运行项目\"><a href=\"#重新运行项目\" class=\"headerlink\" title=\"重新运行项目\"></a>重新运行项目</h3><p>在组件中添加 import BMap from ‘BMap’</p>\n<pre class=\" language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">onMounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BMap<span class=\"token punctuation\">.</span>Map</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"map\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> point <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BMap<span class=\"token punctuation\">.</span>Point</span><span class=\"token punctuation\">(</span><span class=\"token number\">116.404</span><span class=\"token punctuation\">,</span> <span class=\"token number\">39.915</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  map<span class=\"token punctuation\">.</span><span class=\"token function\">centerAndZoom</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  map<span class=\"token punctuation\">.</span><span class=\"token function\">addControl</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">BMap<span class=\"token punctuation\">.</span>NavigationControl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2 id=\"如果为-TS\"><a href=\"#如果为-TS\" class=\"headerlink\" title=\"如果为 TS\"></a>如果为 TS</h2><p>import BMap from ‘BMap’报错</p>\n<h3 id=\"解决：\"><a href=\"#解决：\" class=\"headerlink\" title=\"解决：\"></a>解决：</h3><h4 id=\"在-src-下新建文件-shims-BMap-d-ts-内容为\"><a href=\"#在-src-下新建文件-shims-BMap-d-ts-内容为\" class=\"headerlink\" title=\"在 src 下新建文件 shims-BMap.d.ts 内容为\"></a>在 src 下新建文件 shims-BMap.d.ts 内容为</h4><pre class=\" language-javascript\"><code class=\"language-javascript\">declare module <span class=\"token string\">'BMap'</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> BMap<span class=\"token punctuation\">:</span> any\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> BMap\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1 id=\"参考取自：\"><a href=\"#参考取自：\" class=\"headerlink\" title=\"参考取自：\"></a>参考取自：</h1><p><a href=\"https://blog.csdn.net/lingwueryao/article/details/115391530\"><strong>vue3 使用百度地图</strong></a></p>\n","text":"Vue3 使用 百度地图的报错的问题vue3 项目中使用百度地图总是报错 BMap is not defined. public/index.html 中加入&lt;script type=\"text/javascript\" src=\"http://api.map.baidu.c...","link":"","photos":[],"count_time":{"symbolsCount":757,"symbolsTime":"1 mins."},"categories":[{"name":"问题记录","slug":"问题记录","count":3,"path":"api/categories/问题记录.json"}],"tags":[{"name":"vue3","slug":"vue3","count":3,"path":"api/tags/vue3.json"},{"name":"vue","slug":"vue","count":2,"path":"api/tags/vue.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Vue3-%E4%BD%BF%E7%94%A8-%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E7%9A%84%E6%8A%A5%E9%94%99%E7%9A%84%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">Vue3 使用 百度地图的报错的问题</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#public-index-html-%E4%B8%AD%E5%8A%A0%E5%85%A5\"><span class=\"toc-text\">public&#x2F;index.html 中加入</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#eslintrc-js-%E4%B8%AD%E5%8A%A0%E5%85%A5\"><span class=\"toc-text\">.eslintrc.js 中加入</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#vue-config-js-%E4%B8%AD%E5%8A%A0%E5%85%A5\"><span class=\"toc-text\">vue.config.js 中加入</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%87%8D%E6%96%B0%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">重新运行项目</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A6%82%E6%9E%9C%E4%B8%BA-TS\"><span class=\"toc-text\">如果为 TS</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%EF%BC%9A\"><span class=\"toc-text\">解决：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%9C%A8-src-%E4%B8%8B%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6-shims-BMap-d-ts-%E5%86%85%E5%AE%B9%E4%B8%BA\"><span class=\"toc-text\">在 src 下新建文件 shims-BMap.d.ts 内容为</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E5%8F%96%E8%87%AA%EF%BC%9A\"><span class=\"toc-text\">参考取自：</span></a></li></ol>","author":{"name":"手可摘星陈","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"人就是这样，喜欢什么，败给什么","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"element-plus修改主题色","uid":"0e3cfafab513b2ddf7256c9eacf77c51","slug":"ual5ig","date":"2021-11-01T03:21:00.000Z","updated":"2023-03-13T03:19:29.396Z","comments":true,"path":"api/articles/ual5ig.json","keywords":null,"cover":null,"text":"先安装 vite 构建工具# 先安装 vite 构建工具 npm install -g create-vite-app 创建项目：# 下面两个命令都可以 create-vite-app vue3-demo cva vue3-demo 按照官网修改主题色官网我选择的是通过 scss...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"Vue","slug":"Vue","count":2,"path":"api/categories/Vue.json"}],"tags":[{"name":"Vue","slug":"Vue","count":5,"path":"api/tags/Vue.json"},{"name":"Vue3","slug":"Vue3","count":1,"path":"api/tags/Vue3.json"},{"name":"element-plus","slug":"element-plus","count":1,"path":"api/tags/element-plus.json"}],"author":{"name":"手可摘星陈","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"人就是这样，喜欢什么，败给什么","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"swiper在loop模式下获取当前下标","uid":"73b906900ddb1992b894f7b40254513c","slug":"wv1yf2","date":"2021-08-18T07:40:00.000Z","updated":"2023-02-20T07:52:43.600Z","comments":true,"path":"api/articles/wv1yf2.json","keywords":null,"cover":null,"text":"前言 项目需要根据轮播来改变对应背景和文字，所以需要获取当前轮播的下标。轮播是 水平卡片式轮播，教程在前文 vue 水平卡片式轮播 loop 下 swiper6 获取当前轮播下标 获取下标方式： this.activeIndex % length// 当前下标除以数组长度取余 代...","link":"","photos":[],"count_time":{"symbolsCount":859,"symbolsTime":"1 mins."},"categories":[{"name":"问题记录","slug":"问题记录","count":3,"path":"api/categories/问题记录.json"}],"tags":[{"name":"vue3","slug":"vue3","count":3,"path":"api/tags/vue3.json"},{"name":"swiper6","slug":"swiper6","count":2,"path":"api/tags/swiper6.json"}],"author":{"name":"手可摘星陈","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"人就是这样，喜欢什么，败给什么","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}